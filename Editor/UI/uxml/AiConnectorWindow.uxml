<ui:UXML xmlns:ui="UnityEngine.UIElements" xmlns:uie="UnityEditor.UIElements" xsi="http://www.w3.org/2001/XMLSchema-instance" engine="UnityEngine.UIElements" editor="UnityEditor.UIElements" noNamespaceSchemaLocation="../../../../../UIElementsSchema/UIElements.xsd" editor-extension-mode="False">
    <Style src="project://database/Packages/com.ugenlah.ugenlah/Editor/UI/uss/AiConnectorWindow.uss" />
    
    <!-- Tab container -->
    <ui:VisualElement name="TabContainer" style="flex-grow: 1;">
        <!-- Tab header -->
        <ui:VisualElement name="TabHeader" style="flex-direction: row; height: 30px; background-color: rgba(128, 128, 128, 0.1); border-bottom-width: 1px; border-bottom-color: rgba(128, 128, 128, 0.5);">
            <ui:Button name="TabConnector" text="MCP Connector" class="tab-button tab-button-active" style="flex-grow: 1; height: 100%; border-width: 0; border-radius: 0; background-color: rgba(0, 0, 0, 0); -unity-font-style: normal;" />
            <ui:Button name="TabModelConfig" text="Model Config" class="tab-button" style="flex-grow: 1; height: 100%; border-width: 0; border-radius: 0; background-color: rgba(0, 0, 0, 0); -unity-font-style: normal;" />
            <ui:Button name="TabUserInput" text="User Input" class="tab-button" style="flex-grow: 1; height: 100%; border-width: 0; border-radius: 0; background-color: rgba(0, 0, 0, 0); -unity-font-style: normal;" />
            <ui:Button name="TabUndoHistory" text="Operations" class="tab-button" style="flex-grow: 1; height: 100%; border-width: 0; border-radius: 0; background-color: rgba(0, 0, 0, 0); -unity-font-style: normal;" />
        </ui:VisualElement>
        
        <!-- Tab content -->
        <ui:VisualElement name="TabContent" style="flex-grow: 1;">
            <!-- AI Connector tab content -->
            <ui:ScrollView name="ConnectorContent" style="flex-grow: 1;">
        <ui:VisualElement class="container" style="min-width: 320px;">
            <ui:Box name="contHeader" style="background-color: rgba(222, 222, 222, 0); flex-direction: row; flex-shrink: 0;">
                <ui:VisualElement style="flex-grow: 1; background-color: rgba(0, 0, 0, 0);">
                    <ui:Label text="AI Connector (MCP)" name="labelSettings" class="Header" />
                    <ui:VisualElement name="divider" class="Divider" />
                    <ui:EnumField label="Log Level" name="dropdownLogLevel" type="com.UGenLah.UGenLah.Utils.LogLevel, com.UGenLah.UGenLah.Runtime" value="Warning" class="ContentItem" style="align-self: flex-start;" />
                </ui:VisualElement>
                <ui:VisualElement name="imgLogoPivot" class="AnimatedSelectable" style="flex-grow: 0; height: 90px; width: 90px; right: 0; margin-left: 15px; flex-shrink: 0; margin-right: -8px; margin-top: 10px; flex-direction: row;">
                    <ui:VisualElement name="imgLogo" style="flex-grow: 1; background-color: rgba(0, 0, 0, 0); background-image: url(&quot;project://database/Packages/com.ugenlah.ugenlah/Editor/Gizmos/logo_512.png&quot;); -unity-background-scale-mode: stretch-to-fill; align-self: stretch;" />
                </ui:VisualElement>
            </ui:Box>
            <ui:Label text="Connect to MCP server" class="Header" />
            <ui:TextField picking-mode="Ignore" label="Server URL" value="http://localhost:60606" name="InputServerURL" class="ContentItem" />
            <ui:Foldout text="Information" value="false">
                <ui:Label text="Usually the server is hosted locally at:&#10;http://localhost:60606&#10;&#10;But feel free to connect to remote MCP server if needed. The connection under the hood is established using SignalR and supports wide range of features." class="section-desc" />
            </ui:Foldout>
            <ui:VisualElement name="ServerConnectionInfo" class="row">
                <ui:VisualElement name="connectionStatusCircle" class="status-indicator-circle status-indicator-circle-disconnected" />
                <ui:Label text="Disconnected" name="connectionStatusText" style="flex-grow: 1;" />
                <ui:Button name="btnConnectOrDisconnect" text="Connect" class="Button-Primary" />
            </ui:VisualElement>
            <ui:VisualElement name="divider" class="Divider" style="flex-grow: 1;" />
            <ui:Label text="Configure MCP Client" class="Header" />
            <ui:Label text="At least one client should be configured.&#10;Some clients need restart after configuration." class="section-desc" />
            
            <!-- Pinned configuration area -->
            <ui:VisualElement name="PinnedClientsArea" style="margin-bottom: 10px;">
                <ui:Label text="Pinned Clients" class="section-desc" style="margin-bottom: 5px; font-style: italic; color: rgba(200, 200, 200, 0.8);" />
                
                <!-- Cursor (pinned) -->
                <ui:VisualElement name="ClientItem-Cursor" class="Frame-Group draggable-client-item" style="flex-grow: 1; margin-bottom: 5px; border-width: 1px; border-color: rgba(128, 128, 128, 0.3);">
                    <ui:VisualElement class="client-header" style="flex-direction: row; align-items: center;">
                        <ui:VisualElement class="drag-handle" style="width: 12px; height: 16px; margin-right: 8px; flex-direction: column; align-content: center; justify-content: center;" tooltip="Drag to move between areas">
                            <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                            </ui:VisualElement>
                            <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                            </ui:VisualElement>
                            <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                            </ui:VisualElement>
                        </ui:VisualElement>
                        <ui:VisualElement style="flex-direction: row; flex-grow: 1; align-items: center;">
                            <ui:Label text="Cursor" class="section-title" style="margin: 0; margin-right: 8px;" />
                            <ui:Label text="Not configured" name="configureStatusText" class="section-desc" style="margin: 0; font-size: 10px; opacity: 0.7;" />
                        </ui:VisualElement>
                        <ui:VisualElement style="flex-direction: row; align-items: center; width: 120px; justify-content: flex-end;">
                            <ui:VisualElement name="configureStatusCircle" class="status-indicator-circle status-indicator-circle-disconnected" style="margin-right: 8px;" />
                            <ui:Button name="btnConfigure" text="Configure" class="Button-Primary configure-button" />
                        </ui:VisualElement>
                    </ui:VisualElement>
                </ui:VisualElement>
                
                <!-- Claude Desktop (pinned) -->
                <ui:VisualElement name="ClientItem-Claude" class="Frame-Group draggable-client-item" style="flex-grow: 1; margin-bottom: 5px; border-width: 1px; border-color: rgba(128, 128, 128, 0.3);">
                    <ui:VisualElement class="client-header" style="flex-direction: row; align-items: center;">
                        <ui:VisualElement class="drag-handle" style="width: 12px; height: 16px; margin-right: 8px; flex-direction: column; align-content: center; justify-content: center;" tooltip="Drag to move between areas">
                            <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                            </ui:VisualElement>
                            <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                            </ui:VisualElement>
                            <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                            </ui:VisualElement>
                        </ui:VisualElement>
                        <ui:VisualElement style="flex-direction: row; flex-grow: 1; align-items: center;">
                            <ui:Label text="Claude Desktop" class="section-title" style="margin: 0; margin-right: 8px;" />
                            <ui:Label text="Not configured" name="configureStatusText" class="section-desc" style="margin: 0; font-size: 10px; opacity: 0.7;" />
                        </ui:VisualElement>
                        <ui:VisualElement style="flex-direction: row; align-items: center; width: 120px; justify-content: flex-end;">
                            <ui:VisualElement name="configureStatusCircle" class="status-indicator-circle status-indicator-circle-disconnected" style="margin-right: 8px;" />
                            <ui:Button name="btnConfigure" text="Configure" class="Button-Primary configure-button" />
                        </ui:VisualElement>
                    </ui:VisualElement>
                </ui:VisualElement>
            </ui:VisualElement>
            
            <!-- More clients collapsible area -->
            <ui:Foldout text="More Clients" name="MoreClientsFoldout" value="false" style="margin-bottom: 10px;">
                <ui:VisualElement name="MoreClientsArea" style="background-color: rgba(50, 50, 50, 0.2); padding: 5px; border-radius: 5px; border-width: 1px; border-color: rgba(100, 100, 100, 0.3);">
                                         <ui:Label text="Drag any client to the pinned area above" class="section-desc" style="margin-bottom: 8px; font-style: italic; color: rgba(180, 180, 180, 0.9);" />
                    
                    <!-- VS Code -->
                    <ui:VisualElement name="ClientItem-VSCode" class="Frame-Group draggable-client-item" style="flex-grow: 1; margin-bottom: 5px; border-width: 1px; border-color: rgba(128, 128, 128, 0.3);">
                        <ui:VisualElement class="client-header" style="flex-direction: row; align-items: center;">
                            <ui:VisualElement class="drag-handle" style="width: 12px; height: 16px; margin-right: 8px; flex-direction: column; align-content: center; justify-content: center;" tooltip="Drag to move between areas">
                                <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                    <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                    <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                </ui:VisualElement>
                                <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                    <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                    <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                </ui:VisualElement>
                                <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                    <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                    <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                </ui:VisualElement>
                            </ui:VisualElement>
                            <ui:VisualElement style="flex-direction: row; flex-grow: 1; align-items: center;">
                                <ui:Label text="VS Code" class="section-title" style="margin: 0; margin-right: 8px;" />
                                <ui:Label text="Not configured" name="configureStatusText" class="section-desc" style="margin: 0; font-size: 10px; opacity: 0.7;" />
                            </ui:VisualElement>
                            <ui:VisualElement style="flex-direction: row; align-items: center; width: 120px; justify-content: flex-end;">
                                <ui:VisualElement name="configureStatusCircle" class="status-indicator-circle status-indicator-circle-disconnected" style="margin-right: 8px;" />
                                <ui:Button name="btnConfigure" text="Configure" class="Button-Primary configure-button" />
                            </ui:VisualElement>
                        </ui:VisualElement>
                    </ui:VisualElement>
                    
                                         <!-- Visual Studio -->
                     <ui:VisualElement name="ClientItem-VisualStudio" class="Frame-Group draggable-client-item" style="flex-grow: 1; margin-bottom: 5px; border-width: 1px; border-color: rgba(128, 128, 128, 0.3);">
                         <ui:VisualElement class="client-header" style="flex-direction: row; align-items: center;">
                             <ui:VisualElement class="drag-handle" style="width: 12px; height: 16px; margin-right: 8px; flex-direction: column; align-content: center; justify-content: center;" tooltip="Drag to move between areas">
                                 <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                 </ui:VisualElement>
                                 <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                 </ui:VisualElement>
                                 <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                 </ui:VisualElement>
                             </ui:VisualElement>
                                                           <ui:VisualElement style="flex-direction: row; flex-grow: 1; align-items: center;">
                                  <ui:Label text="Visual Studio" class="section-title" style="margin: 0; margin-right: 8px;" />
                                  <ui:Label text="Not configured" name="configureStatusText" class="section-desc" style="margin: 0; font-size: 10px; opacity: 0.7;" />
                              </ui:VisualElement>
                             <ui:VisualElement style="flex-direction: row; align-items: center; width: 120px; justify-content: flex-end;">
                                 <ui:VisualElement name="configureStatusCircle" class="status-indicator-circle status-indicator-circle-disconnected" style="margin-right: 8px;" />
                                 <ui:Button name="btnConfigure" text="Configure" class="Button-Primary configure-button" />
                             </ui:VisualElement>
                         </ui:VisualElement>
                         <ui:EnumField label="Config Location" name="vsConfigLocation" type="com.UGenLah.UGenLah.Editor.Common.VisualStudioConfigLocation, com.UGenLah.UGenLah.Editor" value="Global" class="ContentItem" style="margin-left: 24px;" />
                     </ui:VisualElement>
                    
                                         <!-- Augment -->
                     <ui:VisualElement name="ClientItem-Augment" class="Frame-Group draggable-client-item" style="flex-grow: 1; margin-bottom: 5px; border-width: 1px; border-color: rgba(128, 128, 128, 0.3);">
                         <ui:VisualElement class="client-header" style="flex-direction: row; align-items: center;">
                             <ui:VisualElement class="drag-handle" style="width: 12px; height: 16px; margin-right: 8px; flex-direction: column; align-content: center; justify-content: center;" tooltip="Drag to move between areas">
                                 <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                 </ui:VisualElement>
                                 <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                 </ui:VisualElement>
                                 <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                 </ui:VisualElement>
                             </ui:VisualElement>
                                                           <ui:VisualElement style="flex-direction: row; flex-grow: 1; align-items: center;">
                                  <ui:Label text="Augment (VS Code)" class="section-title" style="margin: 0; margin-right: 8px;" />
                                  <ui:Label text="Not configured" name="configureStatusText" class="section-desc" style="margin: 0; font-size: 10px; opacity: 0.7;" />
                              </ui:VisualElement>
                             <ui:VisualElement style="flex-direction: row; align-items: center; width: 120px; justify-content: flex-end;">
                                 <ui:VisualElement name="configureStatusCircle" class="status-indicator-circle status-indicator-circle-disconnected" style="margin-right: 8px;" />
                                 <ui:Button name="btnConfigure" text="Configure" class="Button-Primary configure-button" />
                             </ui:VisualElement>
                         </ui:VisualElement>
                     </ui:VisualElement>
                     
                     <!-- Windsurf -->
                     <ui:VisualElement name="ClientItem-Windsurf" class="Frame-Group draggable-client-item" style="flex-grow: 1; margin-bottom: 5px; border-width: 1px; border-color: rgba(128, 128, 128, 0.3);">
                         <ui:VisualElement class="client-header" style="flex-direction: row; align-items: center;">
                             <ui:VisualElement class="drag-handle" style="width: 12px; height: 16px; margin-right: 8px; flex-direction: column; align-content: center; justify-content: center;" tooltip="Drag to move between areas">
                                 <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                 </ui:VisualElement>
                                 <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                 </ui:VisualElement>
                                 <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                 </ui:VisualElement>
                             </ui:VisualElement>
                                                           <ui:VisualElement style="flex-direction: row; flex-grow: 1; align-items: center;">
                                  <ui:Label text="Windsurf" class="section-title" style="margin: 0; margin-right: 8px;" />
                                  <ui:Label text="Not configured" name="configureStatusText" class="section-desc" style="margin: 0; font-size: 10px; opacity: 0.7;" />
                              </ui:VisualElement>
                             <ui:VisualElement style="flex-direction: row; align-items: center; width: 120px; justify-content: flex-end;">
                                 <ui:VisualElement name="configureStatusCircle" class="status-indicator-circle status-indicator-circle-disconnected" style="margin-right: 8px;" />
                                 <ui:Button name="btnConfigure" text="Configure" class="Button-Primary configure-button" />
                             </ui:VisualElement>
                         </ui:VisualElement>
                     </ui:VisualElement>
                     
                     <!-- Cline -->
                     <ui:VisualElement name="ClientItem-Cline" class="Frame-Group draggable-client-item" style="flex-grow: 1; margin-bottom: 5px; border-width: 1px; border-color: rgba(128, 128, 128, 0.3);">
                         <ui:VisualElement class="client-header" style="flex-direction: row; align-items: center;">
                             <ui:VisualElement class="drag-handle" style="width: 12px; height: 16px; margin-right: 8px; flex-direction: column; align-content: center; justify-content: center;" tooltip="Drag to move between areas">
                                 <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                 </ui:VisualElement>
                                 <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                 </ui:VisualElement>
                                 <ui:VisualElement style="flex-direction: row; justify-content: center; margin: 1px;">
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                     <ui:VisualElement style="width: 3px; height: 3px; background-color: rgba(120, 120, 120, 0.8); border-radius: 50%; margin: 1px;" />
                                 </ui:VisualElement>
                             </ui:VisualElement>
                                                           <ui:VisualElement style="flex-direction: row; flex-grow: 1; align-items: center;">
                                  <ui:Label text="Cline" class="section-title" style="margin: 0; margin-right: 8px;" />
                                  <ui:Label text="Not configured" name="configureStatusText" class="section-desc" style="margin: 0; font-size: 10px; opacity: 0.7;" />
                              </ui:VisualElement>
                             <ui:VisualElement style="flex-direction: row; align-items: center; width: 120px; justify-content: flex-end;">
                                 <ui:VisualElement name="configureStatusCircle" class="status-indicator-circle status-indicator-circle-disconnected" style="margin-right: 8px;" />
                                 <ui:Button name="btnConfigure" text="Configure" class="Button-Primary configure-button" />
                             </ui:VisualElement>
                         </ui:VisualElement>
                     </ui:VisualElement>
                </ui:VisualElement>
            </ui:Foldout>
            
            <ui:VisualElement name="ConfigureClient-Custom" class="Frame-Group" style="flex-grow: 1;">
                <ui:Label text="Manual configuration" class="section-title" />
                <ui:Label text="Copy paste the json into your MCP Client to configure it." name="Label" class="section-desc" />
                <ui:TextField name="rawJsonConfiguration" multiline="true" readonly="true" selectOnFocus="true" value="This is a multi-line, read-only, selectable text box.&#10;You can copy from here." style="margin-top: 4px; margin-right: 0; margin-left: 0; margin-bottom: 4px;" />
            </ui:VisualElement>
            <ui:VisualElement name="divider" class="Divider" style="flex-grow: 1;" />
            <ui:Button name="btnRebuildServer" text="Rebuild MCP Server" class="Button-Primary" />
            <ui:Label text="Please check the logs to see the operation result." class="section-desc" />
        </ui:VisualElement>
    </ui:ScrollView>
            
            <!-- Model Configuration tab content -->
            <ui:ScrollView name="ModelConfigContent" style="flex-grow: 1; display: none;">
                <ui:VisualElement class="container" style="min-width: 320px;">
                    <ui:Label text="AI Model Configuration" class="Header" />
                    <ui:Foldout text="AI Provider Settings" name="configFoldout" value="true" class="ai-config-section">
                        <ui:VisualElement class="config-group">
                            <ui:Foldout text="OpenAI Settings" value="true" class="config-group-foldout">
                                <ui:TextField label="API Key" name="openaiApiKey" password="true" class="config-item" />
                                <ui:TextField label="Model" name="openaiModel" class="config-item" />
                                <ui:TextField label="Base URL" name="openaiBaseUrl" class="config-item" />
                            </ui:Foldout>
                        </ui:VisualElement>
                        
                        <ui:VisualElement class="config-group">
                            <ui:Foldout text="Gemini Settings" value="true" class="config-group-foldout">
                                <ui:TextField label="API Key" name="geminiApiKey" password="true" class="config-item" />
                                <ui:TextField label="Model" name="geminiModel" class="config-item" />
                                <ui:TextField label="Base URL" name="geminiBaseUrl" class="config-item" />
                            </ui:Foldout>
                        </ui:VisualElement>
                        
                        <ui:VisualElement class="config-group">
                            <ui:Foldout text="Claude Settings" value="true" class="config-group-foldout">
                                <ui:TextField label="API Key" name="claudeApiKey" password="true" class="config-item" />
                                <ui:TextField label="Model" name="claudeModel" class="config-item" />
                                <ui:TextField label="Base URL" name="claudeBaseUrl" class="config-item" />
                            </ui:Foldout>
                        </ui:VisualElement>
                        
                        <ui:VisualElement class="config-group">
                            <ui:Foldout text="Local Settings" value="true" class="config-group-foldout">
                                <ui:TextField label="API URL" name="localApiUrl" class="config-item" />
                                <ui:TextField label="Model" name="localModel" class="config-item" />
                            </ui:Foldout>
                        </ui:VisualElement>
                        
                        <ui:VisualElement class="config-group">
                            <ui:Foldout text="Model Provider Selection" value="true" class="config-group-foldout">
                                <ui:DropdownField label="Vision Provider" name="visionModelProvider" class="config-item" />
                                <ui:DropdownField label="Text Provider" name="textModelProvider" class="config-item" />
                                <ui:DropdownField label="Code Provider" name="codeModelProvider" class="config-item" />
                            </ui:Foldout>
                        </ui:VisualElement>
                        
                        <ui:VisualElement class="config-group">
                            <ui:Foldout text="General Settings" value="true" class="config-group-foldout">
                                <ui:IntegerField label="Timeout (seconds)" name="timeoutSeconds" class="config-item" />
                                <ui:IntegerField label="Max Tokens" name="maxTokens" class="config-item" />
                            </ui:Foldout>
                        </ui:VisualElement>
                        
                        <!-- Configuration Action Buttons -->
                        <ui:VisualElement style="flex-direction: column; margin-top: 10px;">
                            <ui:Button name="btnSaveConfig" text="Save Configuration" class="Button-Primary save-config-btn" style="margin-bottom: 6px;" />
                            <ui:Button name="btnResetConfig" text="Reset to Defaults" class="Button-Secondary" style="margin-bottom: 10px;" />
                            
                            <!-- Import/Export Actions -->
                            <ui:VisualElement style="flex-direction: row; justify-content: space-between;">
                                <ui:Button name="btnImportConfig" text="Import Configuration" class="Button-Secondary" style="flex-grow: 1; margin-right: 4px;" />
                                <ui:Button name="btnExportConfig" text="Export Configuration" class="Button-Secondary" style="flex-grow: 1; margin-left: 4px;" />
                            </ui:VisualElement>
                        </ui:VisualElement>
                    </ui:Foldout>
                </ui:VisualElement>
            </ui:ScrollView>
            

            <!-- User Input tab content -->
            <ui:ScrollView name="UserInputContent" style="flex-grow: 1; display: none;">
                <ui:VisualElement class="container" style="min-width: 320px; padding: 10px;">
                    <!-- Title area -->
                    <ui:VisualElement style="flex-direction: row; align-items: center; margin-bottom: 15px;">
                        <ui:Label text="User Input Panel" style="font-size: 18px; -unity-font-style: bold; flex-grow: 1; color: rgba(220, 220, 220, 0.95);" />
                    </ui:VisualElement>
                    
                    <!-- Prompt message display -->
                    <ui:VisualElement name="promptMessageSection" style="margin-bottom: 15px; display: none;">
                        <ui:Label text="Prompt Message:" style="font-size: 14px; -unity-font-style: bold; margin-bottom: 5px; color: rgba(200, 200, 200, 0.9);" />
                        <ui:Label name="promptMessageText" text="" style="background-color: rgba(60, 60, 60, 0.5); padding: 8px; border-radius: 4px; white-space: normal; -unity-text-align: upper-left; min-height: 60px;" />
                    </ui:VisualElement>
                    
                    <!-- User input area -->
                    <ui:VisualElement name="userInputSection" style="margin-bottom: 15px; display: none;">
                        <ui:Label text="User Input:" style="font-size: 14px; -unity-font-style: bold; margin-bottom: 5px; color: rgba(200, 200, 200, 0.9);" />
                        <ui:TextField name="userInputField" multiline="true" placeholder-text="Please enter..." style="min-height: 80px; background-color: rgba(60, 60, 60, 0.5); border-radius: 4px;" />
                    </ui:VisualElement>
                    
                    <!-- Object selection area -->
                    <ui:VisualElement name="objectSelectionSection" style="margin-bottom: 15px; display: none;">
                        <ui:Label text="Currently Selected Objects:" style="font-size: 14px; -unity-font-style: bold; margin-bottom: 5px; color: rgba(200, 200, 200, 0.9);" />
                        <ui:VisualElement name="selectedObjectsContainer" style="background-color: rgba(60, 60, 60, 0.5); padding: 8px; border-radius: 4px; min-height: 60px;">
                            <ui:Label name="selectedObjectsText" text="No objects selected" style="color: rgba(150, 150, 150, 0.8);" />
                        </ui:VisualElement>
                    </ui:VisualElement>
                    
                    <!-- Button area -->
                    <ui:VisualElement name="buttonSection" style="flex-direction: row; margin-bottom: 15px; display: none;">
                        <ui:Button name="btnConfirmInput" text="Confirm" class="Button-Primary" style="flex-grow: 1; height: 35px; margin-right: 6px;" />
                        <ui:Button name="btnCancelInput" text="Cancel" class="Button-Secondary" style="flex-grow: 1; height: 35px; margin-left: 6px;" />
                    </ui:VisualElement>
                    
                    <!-- Status display -->
                    <ui:VisualElement name="statusSection" style="margin-bottom: 15px;">
                        <ui:Label name="statusText" text="Waiting for user input request..." style="color: rgba(150, 150, 150, 0.8); font-style: italic; text-align: center; margin-top: 20px;" />
                    </ui:VisualElement>
                </ui:VisualElement>
            </ui:ScrollView>
            
            <!-- Operations tab content -->
            <ui:ScrollView name="UndoContent" style="flex-grow: 1; display: none;">
                <ui:VisualElement class="container" style="min-width: 350px; padding: 15px;">
                    <!-- Title area -->
                    <ui:VisualElement style="flex-direction: row; align-items: center; margin-bottom: 20px;">
                        <ui:Label text="Operations Monitor" style="font-size: 18px; -unity-font-style: bold; flex-grow: 1; color: rgba(220, 220, 220, 0.95);" />
                    </ui:VisualElement>
                    
                    <!-- Undo stack submodule -->
                    <ui:VisualElement class="config-group">
                        <ui:Foldout text="Undo Stack" value="true" class="config-group-foldout">
                            <!-- Refresh button -->
                            <ui:VisualElement style="flex-direction: row; justify-content: flex-end; margin-bottom: 12px;">
                                <ui:Button name="btnRefreshUndoStack" text="Refresh" class="undo-operation-button" style="width: 80px; height: 30px; font-size: 12px;" />
                            </ui:VisualElement>
                            
                            <!-- Status information -->
                            <ui:VisualElement name="undoStackStatus" class="undo-stack-status" style="margin-bottom: 15px;">
                                <ui:Label name="undoStackStatusText" text="Stack Status: 0 operations" class="undo-stack-status-text" />
                            </ui:VisualElement>
                            
                            <!-- Quick operation buttons -->
                            <ui:VisualElement style="flex-direction: row; margin-bottom: 20px; gap: 10px;">
                                <ui:Button name="btnUndoLast" text="&lt; Undo" class="undo-operation-button" style="flex-grow: 1; height: 38px; font-size: 13px;" />
                                <ui:Button name="btnRedoLast" text="Redo &gt;" class="undo-operation-button" style="flex-grow: 1; height: 38px; font-size: 13px;" />
                            </ui:VisualElement>
                            
                            <!-- Undo stack history list -->
                            <ui:Label text="Operation History" style="font-size: 14px; -unity-font-style: bold; margin-bottom: 10px; color: rgba(200, 200, 200, 0.9);" />
                            <ui:ScrollView name="undoStackList" class="undo-stack-scroll" style="max-height: 400px; margin-bottom: 15px;">
                                <ui:VisualElement name="undoStackContainer" style="padding: 8px;">
                                    <ui:Label name="emptyUndoStackLabel" text="No history available" class="empty-state" />
                                </ui:VisualElement>
                            </ui:ScrollView>
                            
                            <!-- Stack management operations -->
                            <ui:VisualElement name="undoStackControls" style="margin-top: 15px; flex-direction: row;">
                                <ui:Button name="btnClearUndoStack" text="Clear Stack" class="undo-operation-button danger-button" style="flex-grow: 1; height: 35px; font-size: 13px;" />
                            </ui:VisualElement>
                        </ui:Foldout>
                    </ui:VisualElement>
                </ui:VisualElement>
            </ui:ScrollView>
        </ui:VisualElement>
    </ui:VisualElement>
</ui:UXML>
